#  操作系统课程设计-详细设计

[TOC]

##  1.总体设计

###  1.1 概述

此项目为 2023 年春季北京邮电大学操作系统课程设计项目，题目为《操作系统模拟程序的设计与实现》，课程设计的目的在于：加深理解操作系统的基本功能、原理和工作机制，理解并掌握操作系统的实现方法和技术，培养学生理解问题、分析问题、解决问题的能力，培养学生团队合作精神、组织协调能力，进一步培养提高学生的编程实践能力。本篇报告为操作系统项目的详细设计，是基于概要设计的详细说明。

####  1.1.1功能描述

此项目设计并实现一个具有操作系统基本功能的软件，要求该软件具有操作系统的如下基本功能：

- 进程管理功能，如进程创建(new)、进程调度(scheduling)、进程阻塞(block)、进程唤醒(wakeup)、进程同步(synchronize)等。
- 内存管理功能，进程存储空间的分配和回收等。
- 文件系统，目录/文件的创建和删除、空间分配和回收。
- 设备管理，设备的申请、分配、使用、释放等。
- 程序运行的交互 UI 界面。
- 程序需要模拟实现操作系统的中断机制。

#### 1.1.2 运行环境

程序的运行环境为 *Windows Subsystem for Linux* (*WSL*)[1](https://github.com/Shlysz/os/blob/master/概要设计.md#user-content-fn-1-94808c6dbdbf2814149ed76a7def9d4a) ，即 Windows 系统环境下安装的 Linux 虚拟机，所使用的 Linux 发型版为 [Debian 11 (bullseye)](https://www.debian.org/News/2021/20210814), 程序运行的宿主机内核版本为 Linux 5.10.16.3-microsoft-standard-WSL2 x86_64 GNU/Linux。

#### 1.1.3 开发环境

项目使用 VScode 代码编辑器配合 C/C++ 语言相关插件进行开发，团队使用 [Git](https://git-scm.com/) 作为代码版本管理工具，代码托管在 [Github](https://github.com/) 上的私有远程仓库进行协同开发，所有的代码遵循标准 GNU/Linux 系统 API[2](https://github.com/Shlysz/os/blob/master/概要设计.md#user-content-fn-2-94808c6dbdbf2814149ed76a7def9d4a), 编程语言上使用 C++17 标准进行开发。

###  1.2 设计思想

####  1.2.1 软件设计构思



####  1.2.2 关键技术与算法

####  1.2.3 基本数据结构

###  1.3 基本处理流程

对于模拟一个现代的 Linux 操作系统，我们忽略掉硬件启动的部分，对于软件层面包括的处理流程主要为：

-  内核启动：内核在启动时，首先会进行初始化，包括初始化内存管理、进程管理、文件系统等模块。然后，内核会启动系统的第一个进程 —— systemd，systemd 会负责启动其它服务和进程。对于我们自己模拟的程序，需要自己实现一个初始化程序来初始化所有系统服务。

- 服务启动：系统初始化进程会启动各种服务，例如网络服务、文件系统服务、用户服务、日志服务等。

- 进程管理： 系统使用进程来管理程序和服务，内核负责管理进程，包括创建、撤销、调度、通信和同步等操作。

- 文件管理：操作系统通过文件系统管理文件和目录，支持各种文件系统类型和访问权限设置，包括文件的创建、读取、写入、删除、复制等操作。

- 设备管理：操作系统会实时监听所有系统识别到的设备，同时映射为系统中的文件描述符。我们的模拟程序会同时维护上述 5 个流程，以模拟实现现代操作系统的基本功能。

### 1.4 软件的体系结构设计

####  1.4.1 软件体系结构框图

####  1.4.2 软件主要模块及其依赖关系说明

###  1.5 软件数据结构设计

####   1.5.1全局数据结构设计

####  1.5.2 数据结构与系统单元的关系

###  1.6 软件设计接口

（1）操作界面

（2）系统功能服务界面

####  1.6.1 外部接口

#### 1.6.2 内部接口

##  2.用户界面设计

使用shell

###  2.1 界面说明



##  3. 相关流程处理

###  3.1 进程管理设计说明

####  3.1.1 程序单元说明

####  3.1.2 数据结构说明

####  3.1.3 算法及流程

####  3.1.4 数据存储说明

####  3.1.5 源程序文件说明

####  3.1.6 函数说明

###  3.2 内存管理设计说明

####  3.2.1 程序单元说明

####  3.2.2 数据结构说明

####  3.2.3 算法及流程

####  3.2.4 数据存储说明

####  3.2.5 源程序文件说明

####  3.2.6 函数说明

###  3.3 中断处理设计说明

####  3.3.1 程序单元说明

####  3.3.2 数据结构说明

####  3.3.3 算法及流程

####  3.3.4 数据存储说明

####  3.3.5 源程序文件说明

####  3.3.6 函数说明

###  3.4 文件系统设计说明

####  3.4.1 程序单元说明

####  3.4.2 数据结构说明

####  3.4.3 算法及流程

####  3.4.4 数据存储说明

####  3.4.5 源程序文件说明

####  3.4.6 函数说明

###  3.5 设备处理设计说明

####  3.5.1 程序单元说明

####  3.5.2 数据结构说明

####  3.5.3 算法及流程

####  3.5.4 数据存储说明

####  3.5.5 源程序文件说明

####  3.5.6 函数说明

##  4. 总结





##  5. 附录

